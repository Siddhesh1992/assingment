(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),n=a.n(s),r=a(33),i=a.n(r),l=a(6),o=a(4),j=a(3),d=a(13),b=a(2),m=a(16),u=a.n(m),h=a(8),O=a.n(h),x=a(9),p=a.n(x),f=function(){var e=Object(j.f)(),t=Object(s.useState)([]),a=Object(l.a)(t,2),n=a[0],r=a[1],i=Object(s.useState)({fromDate:"",toDate:"",errors:{fromDate:"",toDate:""}}),m=Object(l.a)(i,2),h=m[0],x=m[1],f=h.fromDate,v=h.toDate,N=h.errors,g=Object(s.useRef)(),y=Object(s.useRef)();Object(s.useEffect)((function(){var e=function(){x((function(e){return Object(b.a)(Object(b.a)({},e),{},{fromDate:g.current.value,toDate:y.current.value})}))};u.a.Datepicker.init(g.current,{format:"dd-mm-yyyy",autoClose:!0,onClose:e}),u.a.Datepicker.init(y.current,{format:"dd-mm-yyyy",autoClose:!0,onClose:e}),w()}),[]);var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/api/transaction";O.a.get(e).then((function(e){var t=e.data;r(t)}))},C=function(e){var t=e.target,a=t.value,c=t.name;x(Object(b.a)(Object(b.a)({},h),{},Object(d.a)({},c,a)))};return Object(c.jsxs)("main",{className:"container",children:[Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault()},className:"row",children:[Object(c.jsxs)("div",{className:"input-field col s4",children:[Object(c.jsx)("input",{id:"fromDate",value:f,type:"text",className:"validate",ref:g,onChange:C}),Object(c.jsx)("label",{className:"active",htmlFor:"fromDate",children:"From Date"}),Object(c.jsx)("span",{className:"error",children:N.fromDate})]}),Object(c.jsxs)("div",{className:"input-field col s4",children:[Object(c.jsx)("input",{id:"toData",type:"text",className:"validate",value:v,ref:y,onChange:C}),Object(c.jsx)("label",{className:"active",htmlFor:"toData",children:"To Date"}),Object(c.jsx)("span",{className:"error",children:N.toDate})]}),Object(c.jsx)("div",{className:"input-field col s2",children:Object(c.jsx)("button",{className:"indigo btn",onClick:function(){y.current.value&&g.current.value?w("/api/transaction?fromDate=".concat(g.current.value,"&toDate=").concat(y.current.value)):p()("Invalid Date")},type:"button",children:"Search"})}),Object(c.jsx)("div",{className:"input-field col s2",children:Object(c.jsx)(o.b,{to:"/addTrans",className:"indigo-text right",children:Object(c.jsx)("i",{className:"small material-icons",children:"add_circle"})})})]}),Object(c.jsxs)("table",{className:"centered",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Customer Name"}),Object(c.jsx)("th",{children:"Amount"}),Object(c.jsx)("th",{children:"Description"}),Object(c.jsx)("th",{children:"Type"}),Object(c.jsx)("th",{children:"Settings"})]})}),Object(c.jsx)("tbody",{children:n>0?Object(c.jsx)("tr",{children:Object(c.jsx)("td",{colSpan:"5",children:"No Data"})}):n.map((function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.customerName}),Object(c.jsx)("td",{children:t.amount}),Object(c.jsx)("td",{children:t.description}),Object(c.jsx)("td",{children:t.type}),Object(c.jsxs)("td",{children:[Object(c.jsx)(o.b,{to:"#",onClick:function(){return e=t._id,void p()({title:"Alert",text:"Are you sure you want to delete this record",closeOnClickOutside:!1,closeOnEsc:!1,dangerMode:!0,buttons:!0}).then((function(t){t&&O()({method:"delete",url:"/api/transaction",data:{transId:e}}).then((function(e){w()}))}));var e},children:Object(c.jsx)("i",{className:"small indigo-text material-icons",children:"delete"})}),Object(c.jsx)(o.b,{to:"#",onClick:function(){return e.replace("/addTrans/".concat(t._id))},children:Object(c.jsx)("i",{className:"small indigo-text material-icons",children:"edit"})})]})]},t._id)}))})]})]})},v=n.a.createContext(null),N=function(){var e=Object(j.f)(),t=Object(s.useContext)(v),a=Object(l.a)(t,2),n=(a[0],a[1]),r=Object(s.useState)({email:"",password:"",errors:{email:"",password:""}}),i=Object(l.a)(r,2),m=i[0],u=i[1],h=m.email,x=m.password,f=m.errors,N=function(e){var t=e.target,a=t.value,c=t.name;f[c]="",u(Object(b.a)(Object(b.a)({},m),{},Object(d.a)({},c,a)))};return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col s12 m4 offset-m4",children:Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsx)("span",{className:"card-title center-align indigo-text",children:"SIGN IN"}),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=Object(b.a)({},m);(function(){var e=0;return Object.keys(m).forEach((function(t){if(m[t])f[t]="";else{var a=t.replace(/([A-Z])/g," $1").trim();a=a.charAt(0).toUpperCase()+a.slice(1),f[t]="".concat(a," is required"),++e}})),!(e>0)})()&&(delete a.errors,O.a.post("api/auth/login",m).then((function(t){n({type:"auth",payload:t.data}),e.replace("/home")})).catch((function(e){var t=e.response,a=t.data,c=a.data,s=a.message;p()("Alert",s),422===t.status&&(c.forEach((function(e){f[e.param]=e.msg})),u(Object(b.a)({},m)))}))),u(Object(b.a)({},m))},method:"post",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("input",{className:"validate",type:"email",name:"email",id:"email",value:h,onChange:N}),Object(c.jsx)("label",{htmlFor:"email",children:"Enter your email"}),Object(c.jsx)("span",{className:"error",children:f.email})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("input",{className:"validate",type:"password",name:"password",id:"password",value:x,onChange:N}),Object(c.jsx)("label",{htmlFor:"password",children:"Enter your password"}),Object(c.jsx)("span",{className:"error",children:f.password})]})}),Object(c.jsx)("br",{}),Object(c.jsxs)("center",{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("button",{type:"submit",name:"btn_login",className:"col s12 btn btn-large waves-effect indigo",children:"Login"})}),Object(c.jsx)(o.b,{className:"indigo-text center-allign",to:"/sign-up",children:"Create account"})]})]})]})})})})})})},g=function(){var e=Object(j.f)(),t=Object(j.g)().transId,a=Object(s.useState)({customerName:"",amount:"",description:"",type:"",errors:{customerName:"",amount:"",description:"",type:""}}),n=Object(l.a)(a,2),r=n[0],i=n[1],m=r.customerName,h=r.amount,x=r.description,f=r.type,v=r.errors;Object(s.useEffect)((function(){t&&O.a.get("/api/transaction/".concat(t)).then((function(e){var t=e.data;return i((function(e){return Object(b.a)(Object(b.a)({},e),{},{customerName:t.customerName,amount:t.amount,description:t.description,type:t.type})}))}))}),[t]),Object(s.useEffect)((function(){u.a.updateTextFields()}));var N=function(e){var t=e.target,a=t.value,c=t.name;v[c]="",i(Object(b.a)(Object(b.a)({},r),{},Object(d.a)({},c,a)))};return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col s12 m4 offset-m4",children:Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsx)("span",{className:"card-title center-align indigo-text",children:"Enter Transaction"}),Object(c.jsxs)("form",{onSubmit:function(a){a.preventDefault();var c=Object(b.a)({},r);if(function(){var e=0;return Object.keys(r).forEach((function(t){if(r[t])v[t]="";else{var a=t.replace(/([A-Z])/g," $1").trim();a=a.charAt(0).toUpperCase()+a.slice(1),v[t]="".concat(a," is required"),++e}})),!(e>0)||(p()("Validation Error"),!1)}()){delete c.errors;var s=Object(b.a)({},r),n="post";t&&(n="put",s.transId=t),O()({method:n,url:"/api/transaction",data:s}).then((function(t){var a=t.data,c=a.status,s=a.message;p()({title:c,text:s,closeOnClickOutside:!1,closeOnEsc:!1}).then((function(t){t&&e.replace("/home")}))})).catch((function(e){var t=e.response,a=t.data,c=a.data,s=a.message;p()("Alert",s),422===t.status&&(c.forEach((function(e){v[e.param]=e.msg})),i(Object(b.a)({},r)))}))}i(Object(b.a)({},r))},method:"post",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("input",{className:"validate",type:"text",name:"customerName",id:"customerName",value:m,onChange:N}),Object(c.jsx)("label",{htmlFor:"customerName",children:"Enter your Name"}),Object(c.jsx)("span",{className:"error",children:v.customerName})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("input",{className:"validate",type:"number",name:"amount",id:"amount",value:h,onChange:N}),Object(c.jsx)("label",{htmlFor:"amount",children:"Enter Amount"}),Object(c.jsx)("span",{className:"error",children:v.amount})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("textarea",{className:"validate materialize-textarea",type:"text",name:"description",id:"description",value:x,onChange:N}),Object(c.jsx)("label",{htmlFor:"description",children:"Enter Description"}),Object(c.jsx)("span",{className:"error",children:v.description})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsxs)("select",{className:"browser-default",value:f,name:"type",id:"type",onChange:N,children:[Object(c.jsx)("option",{value:"",children:"Choose your Card"}),Object(c.jsx)("option",{value:"debit",children:"Debit"}),Object(c.jsx)("option",{value:"credit",children:"Credit"})]}),Object(c.jsx)("span",{className:"error",children:v.type})]})}),Object(c.jsx)("br",{}),Object(c.jsxs)("center",{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("button",{type:"submit",name:"btn_login",className:"col s12 btn btn-large waves-effect indigo",children:"Create Transaction"})}),Object(c.jsx)(o.b,{className:"indigo-text center-allign",to:"/home",children:"Back"})]})]})]})})})})})})},y=function(){var e=Object(j.f)(),t=Object(s.useContext)(v),a=Object(l.a)(t,2),n=(a[0],a[1]),r=Object(s.useState)({name:"",email:"",password:"",errors:{email:"",password:""}}),i=Object(l.a)(r,2),m=i[0],u=i[1],h=m.name,x=m.email,f=m.password,N=m.errors,g=function(e){var t=e.target,a=t.value,c=t.name;N[c]="",u(Object(b.a)(Object(b.a)({},m),{},Object(d.a)({},c,a)))};return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col s12 m4 offset-m4",children:Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsx)("span",{className:"card-title center-align indigo-text",children:"SIGN UP"}),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=Object(b.a)({},m);(function(){var e=0;return Object.keys(m).forEach((function(t){if(m[t])N[t]="";else{var a=t.replace(/([A-Z])/g," $1").trim();a=a.charAt(0).toUpperCase()+a.slice(1),N[t]="".concat(a," is required"),++e}})),!(e>0)||(p()("Alert","Check for Errors"),!1)})()&&(delete a.errors,O.a.post("api/auth/signup",m).then((function(t){var a=t.data,c=a.data,s=a.status,r=a.message;n({type:"auth",payload:c}),201===t.status&&p()({title:s,text:r,closeOnClickOutside:!1,closeOnEsc:!1}).then((function(t){t&&e.replace("/home")}))})).catch((function(e){var t=e.response,a=t.data,c=a.data,s=a.status,n=a.message;p()(s,n),422===t.status&&(c.forEach((function(e){N[e.param]=e.msg})),u(Object(b.a)({},m)))}))),u(Object(b.a)({},m))},method:"post",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("input",{className:"validate",type:"text",name:"name",id:"name",value:h,onChange:g}),Object(c.jsx)("label",{htmlFor:"name",children:"Enter your name"}),Object(c.jsx)("span",{className:"error",children:N.name})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("input",{className:"validate",type:"email",name:"email",id:"email",value:x,onChange:g}),Object(c.jsx)("label",{htmlFor:"email",children:"Enter your email"}),Object(c.jsx)("span",{className:"error",children:N.email})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("input",{className:"validate",type:"password",name:"password",id:"password",value:f,onChange:g}),Object(c.jsx)("label",{htmlFor:"password",children:"Enter your password"}),Object(c.jsx)("span",{className:"error",children:N.password})]})}),Object(c.jsx)("br",{}),Object(c.jsxs)("center",{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("button",{type:"submit",name:"btn_login",className:"col s12 btn btn-large waves-effect indigo",children:"Sign up"})}),Object(c.jsx)(o.b,{className:"indigo-text center-allign",to:"/",children:"Have Account Sign in"})]})]})]})})})})})})},w=function(){var e=Object(j.f)(),t=Object(s.useContext)(v),a=Object(l.a)(t,2),n=a[0],r=a[1];return Object(s.useEffect)((function(){O.a.get("api/auth/isLoggedIn").then((function(t){var a=t.data;a&&(r({type:"auth",payload:a}),e.replace("/home"))})).catch((function(e){r({type:"auth",payload:null})}))}),[r,e]),Object(c.jsx)("header",{children:Object(c.jsx)("nav",{className:"indigo",children:Object(c.jsxs)("div",{className:"nav-wrapper container",children:[Object(c.jsx)(o.b,{to:"#",className:"brand-logo",children:"Assignment"}),n.auth?Object(c.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(c.jsx)("li",{children:Object(c.jsx)(o.b,{to:"#",onClick:function(){O.a.get("/api/auth/logout").then((function(t){r({type:"auth",payload:null}),e.replace("/")}))},children:"Logout"})})}):""]})})})},C=function(){return Object(c.jsx)("footer",{className:"page-footer indigo",style:{padding:"0"},children:Object(c.jsx)("div",{className:"footer-copyright",children:Object(c.jsx)("div",{className:"container",children:"\xa9 2014 Copyright Assignment"})})})};function D(e,t){switch(t.type){case"auth":return Object(b.a)(Object(b.a)({},e),{},{auth:t.payload});default:throw new Error}}var E=function(){var e=Object(s.useReducer)(D,{auth:null}),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(c.jsx)(v.Provider,{value:[a,n],children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)(w,{}),Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{exact:!0,path:"/",children:Object(c.jsx)(N,{})}),Object(c.jsx)(j.a,{exact:!0,path:"/sign-up",children:Object(c.jsx)(y,{})}),Object(c.jsx)(j.a,{path:"/home",children:Object(c.jsx)(f,{})}),Object(c.jsx)(j.a,{path:"/addTrans/:transId?",children:Object(c.jsx)(g,{})}),Object(c.jsx)(j.a,{component:function(){return Object(c.jsx)("div",{children:"404"})}})]}),Object(c.jsx)(C,{})]})})};a(62);i.a.render(Object(c.jsx)(E,{}),document.querySelector("#root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.d4146976.chunk.js.map